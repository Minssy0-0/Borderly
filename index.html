<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="shared.css">
  <link rel="stylesheet" href="Main-main.css">
  <link rel="stylesheet" href="posts.css">
  <link rel="stylesheet" href="visas.css">

  <title>Borderly</title>
</head>

<body>
<header>
  <nav>
    <div class="navbar">
        <div class="cover-up"></div>
  
<div class="nav-left">
    <button id="cloudToggle" class="cloud-nav" aria-label="Open navigation">☁️</button>
<navmenu>
    <a href="javascript:openDocumentsModal()">Documents</a>
    <a href="javascript:openLuggageModal()">Luggage</a>
    <a href="javascript:openVaccinesModal()">Vaccines</a>
    <a href="javascript:openVisasModal()">Visas</a>
    <a href="checker.html">Travel Insurance</a>

    <div id="cloudAuthArea"></div> 
</navmenu>
    <div id="navAuthSection" class="nav-auth-group">
        <a href="javascript:void(0)" onclick="gatekeeper('profile.html')" class="nav-icon-link" title="Profile">
            <div class="profile-circle">
                <img src="Stock/defaultPic.webp" id="navAvatar" alt="User" class="nav-avatar">
            </div>
        </a>
    </div>
</div>
    <navmenu class="navmenu" id="cloudMenu">
</div>
      <div class="logo">
        <a href="index.html"><img src="stock/logo sample (2).png" alt="Borderly Logo"></a>
      </div>
<div class="nav-right" id="navRightControls"></div>
    </div>
  </nav>
</header>


<main>
<section id="banner">
  <div class="animated-sky">
    <div class="sky"></div>
    <div class="sun"></div>
    
    <div class="cloud cloud-1 type-a"></div>
    <div class="cloud cloud-2 type-b"></div>
    <div class="cloud cloud-3 type-a"></div>
    <div class="cloud cloud-4 type-b"></div>
    <div class="cloud cloud-5 type-a"></div>
    <div class="cloud cloud-6 type-b"></div>
    <div class="cloud cloud-7 type-a"></div>
    <div class="cloud cloud-8 type-b"></div>

    <div class="plane plane-1"><i class="fa-solid fa-plane"></i></div>
    <div class="plane plane-2"><i class="fa-solid fa-plane"></i></div>
    <div class="plane plane-3"><i class="fa-solid fa-plane"></i></div>

    <div class="horizon"></div>
  </div>

  <div class="banner-content">
    <h1 class="hero-title">Cross Every<br><span class="orange-text">Border</span>ly</h1>
    <p class="hero-subtitle">Discover visa requirements, vaccine needs, and travel documents. Your journey starts here.</p>
    
<div class="search-container">
  <div class="input-wrapper">
    <i class="fa-solid fa-location-dot"></i>
    <input type="text" id="originInput" placeholder="Starting from..." oninput="filterCountries(this, 'originResults')">
    <ul id="originResults" class="custom-dropdown"></ul>
</div>

<div class="input-wrapper">
    <i class="fa-solid fa-plane-arrival"></i>
    <input type="text" id="destinationInput" placeholder="Traveling to..." oninput="filterCountries(this, 'destinationResults')">
    <ul id="destinationResults" class="custom-dropdown"></ul>
</div>
<button class="search-btn" onclick="handleMainSearch()">Check</button>
  </div>
</section>

<section id="features">
  <div class="feature-item" onclick="openDocumentsModal()" style="cursor: pointer;">
    <i class="fa-solid fa-file-invoice"></i>
    <div class="feature-text">
      <h3>Documents</h3>
      <p>All the documentation needed for safe travel.</p>
    </div>
  </div>

  <div class="feature-item" onclick="openLuggageModal()" style="cursor: pointer;">
    <i class="fa-solid fa-suitcase-rolling"></i>
    <div class="feature-text">
      <h3>Luggage</h3>
      <p>Measurements and weight rules for every airline.</p>
    </div>
  </div>

  <div class="feature-item" onclick="openVisasModal()" style="cursor: pointer;">
    <i class="fa-solid fa-passport"></i>
    <div class="feature-text">
      <h3>Visas</h3>
      <p>Entry requirements based on your citizenship.</p>
    </div>
  </div>

  <div class="feature-item" onclick="openVaccinesModal()" style="cursor: pointer;">
    <i class="fa-solid fa-syringe"></i>
    <div class="feature-text">
      <h3>Vaccines</h3>
      <p>Stay healthy with mandatory medical insights.</p>
    </div>
  </div>

  <a href="community.html" class="feature-item">
    <i class="fa-solid fa-users-rays"></i>
    <div class="feature-text">
      <h3>Community</h3>
      <p>Connect with other travelers and share tips.</p>
    </div>
  </a>
</section>

<section id="recommendations">
  <div class="section-header">
    <h2 id="recommendationTitle">Recommended Countries</h2>
    <p id="recommendationSub">Explore these popular destinations</p>
  </div>
  
  <div class="card-grid" id="cardGrid">
    <div class="city-card">
      <div class="card-img" style="background: #ccc;"></div>
      <div class="card-info">
        <h3>France</h3>
        <p>Explore Europe's heart</p>
             <div class="post-stats">
  <span><i class="fa-regular fa-heart"></i> 124</span>
  <button class="add-diary-btn"><i class="fa-solid fa-plus"></i> Add to Diary</button>
</div>
      </div>
    </div>
    <div class="city-card">
      <div class="card-img" style="background: #ccc;"></div>
      <div class="card-info">
        <h3>Japan</h3>
        <p>Tradition meets future</p>
             <div class="post-stats">
  <span><i class="fa-regular fa-heart"></i> 124</span>
  <button class="add-diary-btn"><i class="fa-solid fa-plus"></i> Add to Diary</button>
</div>
      </div>
    </div>
    <div class="city-card">
      <div class="card-img" style="background: #ccc;"></div>
      <div class="card-info">
        <h3>Italy</h3>
        <p>History and cuisine</p>
             <div class="post-stats">
  <span><i class="fa-regular fa-heart"></i> 124</span>
  <button class="add-diary-btn"><i class="fa-solid fa-plus"></i> Add to Diary</button>
</div>
      </div>
    </div>
  </div>
</section>


<section id="community-section">
    <div class="section-header">
        <div class="header-text">
            <h2>Latest Community Posts</h2>
            <p>See what other travelers are sharing right now</p>
        </div>
        <a href="community.html" class="view-all-link">View All Posts</a>
    </div>

    <div id="homeRecentFeed" class="feed-grid">
        </div>
</section>


  <section id="contact" >
    <div class="contact-section">
      <h1>Get in Touch</h1>
      <p>Have questions or need assistance? We're here to help!</p>
    <form class="contact-form" action="#" method="post">
      <div class="input-group1">
      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" placeholder="Enter your name" required>
      </div>

      <div class="input-group2">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required>
      </div>

      <div class="input-group3">
      <label for="topic">Topic</label>
        <select id="topic" name="topic" required>
          <option>General Question</option>
          <option>Documents</option>
          <option>Luggage Rules</option>
          <option>Vaccines</option>
          <option>Country Laws</option>
          <option>Other</option>
        </select>
      </div>

      <div class="input-group4">
      <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" placeholder="Enter your message here..." required></textarea>
      </div>
      <button type="submit" class="send-btn">Send</button>
    </form>
    </div>
  </section>


</main>



<footer class="site-footer">
  <div class="footer-inner">

    <div class="footer-brand">
      <img src="images/logo.png" alt="Borderly logo">
      <p>Making global travel safer, clearer, and legally right — all in one place.</p>
    </div>

    <div class="footer-links">
      <h4>Explore</h4>
      <a href="#features">Documents</a>
      <a href="#features">Luggage</a>
      <a href="#features">Vaccines</a>
      <a href="#features">Visas</a>
      <a href="#">Country Rules</a>
      <a href="#">Trip Check</a>
    </div>

    <div class="footer-links">
      <h4>Company</h4>
      <a href="#">About</a>
      <a href="#">Contact</a>
      <a href="#">Privacy Policy</a>
      <a href="#">Terms of Use</a>
    </div>

    <div class="footer-social">
      <h4>Follow</h4>
      <div class="social-icons">
        <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
        <a href="#"><i class="fa-brands fa-instagram"></i></a>
        <a href="#"><i class="fa-brands fa-linkedin"></i></a>
      </div>
    </div>

  </div>

  <div class="footer-bottom">
    © 2026 Borderly. All rights reserved.
  </div>
</footer>
<script>
    // Handle Add to Diary button clicks
    const addDiaryBtns = document.querySelectorAll('.add-diary-btn');
    addDiaryBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            
            // Get the card info (country name and description)
            const card = btn.closest('.city-card');
            const cardInfo = card.querySelector('.card-info');
            const title = cardInfo.querySelector('h3').textContent;
            const description = cardInfo.querySelector('p').textContent;
            const image = card.querySelector('.card-img').style.background || 'https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&w=400';
            
            // Create item object
            const item = {
                title: title,
                country: description,
                image: image,
                timestamp: new Date().getTime()
            };
            
            // Load existing items
            let savedItems = loadSavedDiary();
            
            // Check if item already exists
            const exists = savedItems.some(saved => saved.title === item.title);
            
            if (!exists) {
                savedItems.push(item);
                saveDiary(savedItems);
                
                // Visual feedback
                btn.innerHTML = '<i class="fa-solid fa-check"></i> Added!';
                btn.style.background = '#059669';
                
                setTimeout(() => {
                    btn.innerHTML = '<i class="fa-solid fa-plus"></i> Add to Diary';
                    btn.style.background = '';
                }, 2000);
                
                // Update Member dropdown
                updateMemberDropdown();
            } else {
                btn.innerHTML = '<i class="fa-solid fa-check"></i> Already Added';
                btn.style.background = '#94a3b8';
                
                setTimeout(() => {
                    btn.innerHTML = '<i class="fa-solid fa-plus"></i> Add to Diary';
                    btn.style.background = '';
                }, 2000);
            }
        });
    });

    // Initialize Member dropdown on page load
    updateMemberDropdown();
</script>
    
    <script>
        // Use this only for small page-specific checks
        console.log("Borderly initialized. User:", db.currentUser ? db.currentUser.username : "Guest");
    </script>

    <script src="database.js"></script>
        <script src="auth.js"></script>
        <script>
            if (typeof updateNavbarUI === 'function') {
                window.addEventListener('DOMContentLoaded', updateNavbarUI);
            }
        </script>

        <script src="search.js"></script>
        <script src="cloude.js"></script>
        <script src="pathways.js"></script>
        <script src="posts.js"></script>

                <!-- Ensure Trip Diary button is rendered after all scripts and DOM are loaded -->
                <script>
                    window.addEventListener('DOMContentLoaded', function() {
                        window.addEventListener('load', function() {
                            if (typeof updateNavbarUI === 'function') updateNavbarUI();
                        });
                    });
                </script>

    <!-- Documents Modal -->
    <div id="documentsModal" class="documents-modal" style="display: none;">
        <div class="documents-modal-content">
            <span class="documents-modal-close" onclick="closeDocumentsModal()">&times;</span>
            <h2>Travel Documents Required</h2>
            <div class="documents-search-bar">
                <input type="text" id="documentsSearchInput" placeholder="Search country..." oninput="filterDocuments()">
            </div>
            <div id="documentsContainer" class="documents-container">
                <!-- Documents will be populated here -->
            </div>
        </div>
    </div>

    <script>
        function openDocumentsModal() {
            const modal = document.getElementById('documentsModal');
            modal.style.display = 'flex';
            populateDocuments();
        }

        function closeDocumentsModal() {
            document.getElementById('documentsModal').style.display = 'none';
        }

        function populateDocuments() {
            const container = document.getElementById('documentsContainer');
            const documentsMap = new Map();

            // Extract unique countries and their documents from travelRules
            for (const key in travelRules) {
                const [origin, destination] = key.split('-');
                
                // Add destination country
                if (!documentsMap.has(destination)) {
                    documentsMap.set(destination, travelRules[key].docs);
                }
            }

            // Sort countries alphabetically
            const sortedCountries = Array.from(documentsMap.entries()).sort((a, b) => a[0].localeCompare(b[0]));

            // Create document cards
            let html = '';
            for (const [country, docs] of sortedCountries) {
                html += `
                    <div class="document-card" data-country="${country}">
                        <div class="document-header">
                            <i class="fa-solid fa-passport"></i>
                            <h3>${country}</h3>
                        </div>
                        <p class="document-text">${docs}</p>
                    </div>
                `;
            }

            container.innerHTML = html;
        }

        function filterDocuments() {
            const input = document.getElementById('documentsSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.document-card');

            cards.forEach(card => {
                const country = card.getAttribute('data-country').toLowerCase();
                card.style.display = country.includes(input) ? 'block' : 'none';
            });
        }

        // Close modal when clicking outside of it
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('documentsModal');
            if (e.target === modal) {
                closeDocumentsModal();
            }
        });

        // Luggage Modal Functions
        function openLuggageModal() {
            const modal = document.getElementById('luggageModal');
            modal.style.display = 'flex';
            populateLuggage();
        }

        function closeLuggageModal() {
            document.getElementById('luggageModal').style.display = 'none';
        }

        function populateLuggage() {
            const container = document.getElementById('luggageContainer');
            
            // Sort airlines alphabetically
            const sortedAirlines = Object.keys(luggageRules).sort();

            // Create luggage cards
            let html = '';
            for (const airline of sortedAirlines) {
                const rules = luggageRules[airline];
                html += `
                    <div class="luggage-card" data-airline="${airline}">
                        <div class="luggage-header">
                            <i class="fa-solid fa-plane"></i>
                            <h3>${airline}</h3>
                        </div>
                        <div class="luggage-content">
                            <p><strong>Cabin:</strong> ${rules.cabin}</p>
                            <p><strong>Checked:</strong> ${rules.checked}</p>
                            <p class="luggage-description">${rules.description}</p>
                        </div>
                    </div>
                `;
            }

            container.innerHTML = html;
        }

        function filterLuggage() {
            const input = document.getElementById('luggageSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.luggage-card');

            cards.forEach(card => {
                const airline = card.getAttribute('data-airline').toLowerCase();
                card.style.display = airline.includes(input) ? 'block' : 'none';
            });
        }

        // Close luggage modal when clicking outside of it
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('luggageModal');
            if (e.target === modal) {
                closeLuggageModal();
            }
        });

        // Visas Modal Functions
        function openVisasModal() {
            const modal = document.getElementById('visasModal');
            modal.style.display = 'flex';
            populateVisas();
        }

        function closeVisasModal() {
            document.getElementById('visasModal').style.display = 'none';
        }

        function populateVisas() {
            const container = document.getElementById('visasContainer');
            const visasMap = new Map();

            // Extract unique countries and their visa requirements from travelRules
            for (const key in travelRules) {
                const [origin, destination] = key.split('-');
                
                // Add destination country with visa info
                if (!visasMap.has(destination)) {
                    visasMap.set(destination, travelRules[key].visa);
                }
            }

            // Sort countries alphabetically
            const sortedCountries = Array.from(visasMap.entries()).sort((a, b) => a[0].localeCompare(b[0]));

            // Create visa cards
            let html = '';
            for (const [country, visaInfo] of sortedCountries) {
                html += `
                    <div class="visa-card" data-country="${country}">
                        <div class="visa-header">
                            <i class="fa-solid fa-passport"></i>
                            <h3>${country}</h3>
                        </div>
                        <p class="visa-text">${visaInfo}</p>
                    </div>
                `;
            }

            container.innerHTML = html;
        }

        function filterVisas() {
            const input = document.getElementById('visasSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.visa-card');

            cards.forEach(card => {
                const country = card.getAttribute('data-country').toLowerCase();
                card.style.display = country.includes(input) ? 'block' : 'none';
            });
        }

        // Close visas modal when clicking outside of it
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('visasModal');
            if (e.target === modal) {
                closeVisasModal();
            }
        });

        // Vaccines Modal Functions
        function openVaccinesModal() {
            const modal = document.getElementById('vaccinesModal');
            modal.style.display = 'flex';
            populateVaccines();
        }

        function closeVaccinesModal() {
            document.getElementById('vaccinesModal').style.display = 'none';
        }

        function populateVaccines() {
            const container = document.getElementById('vaccinesContainer');
            const vaccinesMap = new Map();

            // Extract unique countries and their vaccine requirements from travelRules
            for (const key in travelRules) {
                const [origin, destination] = key.split('-');
                
                // Add destination country with vaccine info
                if (!vaccinesMap.has(destination)) {
                    vaccinesMap.set(destination, travelRules[key].vax);
                }
            }

            // Sort countries alphabetically
            const sortedCountries = Array.from(vaccinesMap.entries()).sort((a, b) => a[0].localeCompare(b[0]));

            // Create vaccine cards
            let html = '';
            for (const [country, vaccineInfo] of sortedCountries) {
                html += `
                    <div class="vaccine-card" data-country="${country}">
                        <div class="vaccine-header">
                            <i class="fa-solid fa-syringe"></i>
                            <h3>${country}</h3>
                        </div>
                        <p class="vaccine-text">${vaccineInfo}</p>
                    </div>
                `;
            }

            container.innerHTML = html;
        }

        function filterVaccines() {
            const input = document.getElementById('vaccinesSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.vaccine-card');

            cards.forEach(card => {
                const country = card.getAttribute('data-country').toLowerCase();
                card.style.display = country.includes(input) ? 'block' : 'none';
            });
        }

        // Close vaccines modal when clicking outside of it
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('vaccinesModal');
            if (e.target === modal) {
                closeVaccinesModal();
            }
        });
    </script>

    <!-- Luggage Modal -->
    <div id="luggageModal" class="luggage-modal" style="display: none;">
        <div class="luggage-modal-content">
            <span class="luggage-modal-close" onclick="closeLuggageModal()">&times;</span>
            <h2>Luggage Rules by Airline</h2>
            <div class="luggage-search-bar">
                <input type="text" id="luggageSearchInput" placeholder="Search airline..." oninput="filterLuggage()">
            </div>
            <div id="luggageContainer" class="luggage-container">
                <!-- Luggage rules will be populated here -->
            </div>
        </div>
    </div>

    <!-- Visas Modal -->
    <div id="visasModal" class="visas-modal" style="display: none;">
        <div class="visas-modal-content">
            <span class="visas-modal-close" onclick="closeVisasModal()">&times;</span>
            <h2>Visa Requirements by Country</h2>
            <div class="visas-search-bar">
                <input type="text" id="visasSearchInput" placeholder="Search country..." oninput="filterVisas()">
            </div>
            <div id="visasContainer" class="visas-container">
                <!-- Visa requirements will be populated here -->
            </div>
        </div>
    </div>

    <!-- Vaccines Modal -->
    <div id="vaccinesModal" class="vaccines-modal" style="display: none;">
        <div class="vaccines-modal-content">
            <span class="vaccines-modal-close" onclick="closeVaccinesModal()">&times;</span>
            <h2>Vaccination Requirements by Country</h2>
            <div class="vaccines-search-bar">
                <input type="text" id="vaccinesSearchInput" placeholder="Search country..." oninput="filterVaccines()">
            </div>
            <div id="vaccinesContainer" class="vaccines-container">
                <!-- Vaccine requirements will be populated here -->
            </div>
        </div>
    </div>
</body>
</html>

